<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<body>
    <h3> 인천시 부평구 인구 현황 </h3>
    <table border="1">
        <thead>
            <tr>
                <th>
                    동 이름
                </th>
                <th>
                    총 인구수
                </th>
                <th>
                    남성 인구수
                </th>
                <th>
                    여성 인구수
                </th>
                <th>
                    가구수
                </th>
                <th>
                    남성 비율
                </th>
                <th>
                    여성 비율
                </th>
            </tr>
        </thead>
        <tbody class="tbody">

        </tbody>
    </table>

    <!-- JQuery 가져오기 -->
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script>
        //  Flask 서버와 통신
        $.ajax({
            method: "get",
            url: "http://127.0.0.1:5000",
            success: r => {
                console.log(r);
                let tbody = document.querySelector(".tbody");
                let html = ``;
                r.forEach(o => {
                    html += `<tr>
                                <td>
                                    ${o.region}
                                </td>
                                <td>
                                    ${o.people}
                                </td>
                                <td>
                                    ${o.man}
                                </td>
                                <td>
                                    ${o.woman}
                                </td>
                                <td>
                                    ${o.home}
                                </td>
                                <td>
                                    ${o.manratio}
                                </td>
                                <td>
                                    ${o.womanratio}
                                </td>
                            </tr>
                            `;
                })
                tbody.innerHTML = html;
            }

        })

    </script>
</body>

</html>